openapi: 3.0.1
info:
  title: This is an example schema to check the mechanism of bundling to a single file
  description: This schema is stored in multiple folders and has recursive $refs
  version: 1.0.0
tags:
  - name: lobanov
    description: Generated by me
paths:
  /fruits:
    get:
      description: GET /fruits
      operationId: FruitsIndex
      responses:
        '200':
          description: GET /fruits -> 200
          content:
            application/json:
              schema:
                type: object
                required:
                  - items
                properties:
                  items:
                    type: array
                    minItems: 1
                    uniqueItems: true
                    items:
                      $ref: '#/components/schemas/Fruit'
      tags:
        - lobanov
    post:
      description: POST /fruits
      operationId: FruitsCreate
      responses:
        '201':
          description: POST /fruits -> 201
          content:
            application/json:
              schema:
                type: object
                properties: {}
        '400':
          description: POST /fruits -> 400
          content:
            application/json:
              schema:
                type: object
                required:
                  - message
                  - title
                properties:
                  message:
                    type: string
                    example: |-
                      param is missing or the value is empty: name
                      Did you mean?  action
                                     format
                                     controller
                                     color
                  title:
                    type: string
                    example: Bad request
        '404':
          description: GET /fruits -> 404
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmptyResponse'
        '500':
          description: GET /fruits -> 500
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalErrorResponse'
      tags:
        - lobanov
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Fruit'
components:
  schemas:
    Fruit:
      type: object
      title: Fruit
      required:
        - rgb_color
        - name
        - weight
      properties:
        rgb_color:
          title: RgbColor
          type: object
          example:
            - r: 0
            - g: 0
            - b: 0
          required:
            - r
            - g
            - b
          properties:
            r:
              type: integer
              example: 100
            g:
              type: integer
              example: 150
            b:
              type: integer
              example: 200
        name:
          type: string
          example: orange
        weight:
          type: integer
          example: 100
        seasonal:
          type: boolean
          example: false
    EmptyResponse:
      description: The specified resource was not found.
    InternalErrorResponse:
      description: Internal error happened
