---
openapi: 3.0.1
info:
  title: This is an example schema to check the mechanism of bundling to a single file
  description: This schema is stored in multiple folders and has recursive $refs
  version: 1.0.0
tags:
  - name: lobanov
    description: Generated by me
paths:
  /fruits:
    get:
      description: GET /fruits
      operationId: FruitsIndex
      responses:
        '200':
          description: GET /fruits -> 200
          content:
            application/json:
              schema:
                $ref: ./components/responses/FruitsIndex200Response.yaml
      tags:
        - lobanov
    post:
      description: POST /fruits
      operationId: FruitsCreate
      responses:
        '201':
          description: POST /fruits -> 201 
          content:
            application/json:
              schema:
                $ref: ./components/responses/FruitsCreate201Response.yaml
        '400':
          description: POST /fruits -> 400
          content:
            application/json:
              schema:
                $ref: ./components/responses/FruitsCreate400Response.yaml
        '404':
           description: GET /fruits -> 404
           content:
             application/json:
               schema:
                 $ref: '#/components/schemas/EmptyResponse' 
        '500':
          description: GET /fruits -> 500
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalErrorResponse'
      tags:
        - lobanov
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: ./components/requestBodies/FruitsCreateRequestBody.yaml
components:
  schemas:
    Fruit:
      "$ref": ./components/schemas/Fruit.yaml
    EmptyResponse:
      "$ref": "./components/schemas/404Response.yaml"
    InternalErrorResponse:
      description: Internal error happened
    HiddenComponentReference: 
      "$ref": "./components/schemas/HiddenReference.yaml"
